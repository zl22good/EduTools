# File formats supported by METAL's HDX

---

## Travel Mapping Graph files (.tmg)

[Graph data files](http://tm.teresco.org/graphs/) created by the Travel Mapping site update process are created in this file format, which is described on the [main METAL site](http://courses.teresco.org/metal/graph-formats.shtml).  Any valid file created in .tmg format should be viewable in HDX.

## Travel Mapping Waypoint files (.wpt)

Routes in [Travel Mapping's Highway Data](https://github.com/TravelMapping/HighwayData) are stored in this format.  Each line represents a point on a route that is included in Travel Mapping (a "waypoint"), and includes a waypoint label and a URL that encodes its latitude and longitude.  Lines in the file represent points from one endpoint of the route to the other.  This format can be used for any list of named points with coordinates that one wishes to plot on the map.

An example of an excerpt of a .wpt file:

<pre>
YT1_S http://www.openstreetmap.org/?lat=60.684924&lon=-135.059652
MilCanRd http://www.openstreetmap.org/?lat=60.697199&lon=-135.047250
+5 http://www.openstreetmap.org/?lat=60.705383&lon=-135.054932
4thAve http://www.openstreetmap.org/?lat=60.712623&lon=-135.050619
</pre>

## Path files (.pth)

A path file consists of a series of lines each containing a route name, zero or more intermediate points (latitude, longitude pairs), then a waypoint name and a latitude and a longitude, all space-separated, or a line containing a route name and waypoint name followed by a latitude,longitude pair in parentheses.

Two examples follow, first with the points in (lat,lng) format, including the parentheses and comma:

<pre>
START YT2@BorRd (60.862343,-135.196595)
YT2 YT2@TakHSRd (60.85705,-135.202029)
YT2 (60.849881,-135.203934) (60.844649,-135.187111) (60.830141,-135.187454) YT1_N/YT2_N (60.810264,-135.205286)
YT1,YT2 (60.79662,-135.170288) YT1/YT2@KatRd (60.788579,-135.166302)
YT1,YT2 YT1/YT2@WannRd (60.772479,-135.15044)
YT1,YT2 YT1/YT2@CenSt (60.759893,-135.141191)
</pre>

and this one with the points specified as numbers without the parentheses or comma:

<pre>
START YT2@BorRd 60.862343 -135.196595
YT2 YT2@TakHSRd 60.85705 -135.202029
YT2 60.849881 -135.203934 60.844649 -135.187111 60.830141 -135.187454 YT1_N/YT2_N 60.810264 -135.205286
YT1,YT2 60.79662 -135.170288 YT1/YT2@KatRd 60.788579 -135.166302
YT1,YT2 YT1/YT2@WannRd 60.772479 -135.15044
YT1,YT2 YT1/YT2@CenSt 60.759893 -135.141191
</pre>

When loaded, HDX will display these as a path from one entry to the next.  Points are shown as markers and connected with polylines.  This format has been used to show the result of a shortest path computed by Dijkstra's algorithm, or the segments that make up a computed convex hull of a set of points.

## Near-Miss Point files (.nmp)

A near-miss point file consists of a series of lines, each containing a waypoint name followed by two floating point numbers representing the point's latitude and longitude.  Entries are paired, first with second, third with fourth, and so on, and a graph edge is added between each pair for viewing.  These were originally intended to help find pairs of points in the highway data that were "near misses", meaning perhaps they should be combined into a single point.  It has also been used to show results of other computations where the results are edges: 

An example .nmp file generated by a program that plots the 5 longest edges in a graph:

<pre>
CG2@AveEnc 42.543706 1.733716
CG2/TunEnv 42.55161 1.695457
CG4@AND/ESP 42.546251 1.419382
CG4@CS420 42.53724 1.482553
CG2@CS240 42.565882 1.59658
CG2@CS270 42.58358 1.663227
CG3@CS370 42.622655 1.53491
CG3@CS380 42.631607 1.481405
CG3@CS360 42.582284 1.51916
CG3@CS370 42.622655 1.53491
</pre>

## Waypoint List files (.wpl)

A waypoint list consists of a series of lines, each containing a waypoint name, followed by two floating point numbers representing the point's latitude and longitude.  Points are simply plotted on the map.  These can be used to show results of computations, such as the directional extreme points or others as found in a search.

An example .wpl file that plots the northernmost, southernmost, easternmost, and westernmost points found in a graph:

<pre>
CG1@AND/ESP 42.43581 1.473198
CG3@CS380 42.631607 1.481405
CG4@AND/ESP 42.546251 1.419382
TunEnv/N22 42.549097 1.737857
</pre>
